lm.sources = r1
lm.sinks = k1 k2
lm.channels = c1 c2

lm.sources.r1.type = exec
lm.sources.r1.command = tail -F ../../logs.txt

lm.sinks.k1.type = hdfs
lm.sinks.k1.hdfs.path = ./hdfs
lm.sinks.k1.hdfs.fileType = DataStream
lm.sinks.k1.hdfs.fileSuffix = .txt
lm.sinks.k1.hdfs.rollInterval = 60
lm.sinks.k1.hdfs.rollSize = 0
lm.sinks.k1.hdfs.rollCount = 100

lm.sinks.k2.type = org.apache.flume.sink.kafka.KafkaSink
lm.sinks.k2.kafka.bootstrap.servers = localhost:9092
lm.sinks.k2.kafka.topic = flume-logs-to-kafka

lm.channels.c1.type = memory
lm.channels.c1.capacity = 1000
lm.channels.c1.transactionCapacity = 100

lm.channels.c2.type = memory
lm.channels.c2.capacity = 1000
lm.channels.c2.transactionCapacity = 100

lm.sources.r1.channels = c1 c2
lm.sinks.k1.channel = c1
lm.sinks.k2.channel = c2